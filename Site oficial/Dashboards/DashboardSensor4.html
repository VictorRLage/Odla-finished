<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Sensor 4 || ODLA</title>
    <link rel="stylesheet" href="DashboardSensor4.css">
    <link rel="icon" href="https://i.imgur.com/RYeRxVL.png">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="corpo">
    <!-- Header -->
    <div class="header">

        <div class="container">

            <a href="../telainicio.html"><img src="https://i.imgur.com/d1sFhNj.png" class="logo_header"></a>

            <ul class="navbar">
                <li><a href="../telainicio.html">Início</a></li>
                <li><a href="../SobreNósV2.html">Sobre nós</a></li>
                <li><a href="../Servicos.html">Serviços</a></li>
                <li><a href="../contato.html">Contato</a></li>
                <li class="entrarheader"><img class="logo_entar" src="https://i.imgur.com/TRccn0N.png" align="center">
                    <a class="link_a" href="../login.html"> Entrar</a>
                </li>
            </ul>

            <div class="btn_simulador">
                <a href="../SimuladorODLA.HTML">Simulador financeiro</a>
            </div>
        </div>
    </div>
    <!-- Fim do Header -->
    <!-- Banner -->
    <div class="container1">
        <div class="cardsH">
            <div class="container2">
                <h1 class="nome">Sensor 4</h1>
                <div class="DT">
                    <p>Ultima atualização:<br>
                        <span>2022-05-08-12:00</span>
                    </p>
                </div>
            </div>
            <div class="card2">
                <div class="linha2">
                    <canvas id="linhaa"></canvas>
                </div>
                <div class="linha">
                    <canvas id="linha"></canvas>
                    <button class="btn_add" onclick="addValor1()">Adicionar</button>
                </div>

            </div>
            <div class="cardsV">
                <div class="card3">
                    <h2>Consumo de energia do sensor</h2>
                    <div class="blocos">
                        <div class="bloco1">Medio por hora:<br> <span class="med_hr">90</span> w</div>
                        <div class="bloco2">Diário:<br> <span class="med_hr">1.6</span> Kw</div>
                        <div class="bloco3">Mensal:<br> <span class="med_hr">50.2</span> Kw</div>
                    </div>
                </div>
                <div class="card4">
                    <h2>Sensores</h2>
                    <img class="img_sensor" src="https://i.imgur.com/00X2Fp3.png">
                    <div class="uls2">
                        <ul class="total">
                            <li>Total</li>
                        </ul>
                        <ul class="qtd">
                            <li>6</li>
                        </ul>
                    </div>
                    <div class="uls3">
                        <ul class="li">
                            <li><img class="funcionando" align="center" src="https://i.imgur.com/aKQCcmW.png" alt="">
                                Funcionando</li>
                            <li><img class="manutençao" align="center" src="https://i.imgur.com/frbLIG3.png" alt=""> Em
                                manutenção</li>
                            <li><img class="indisponivel" align="center" src="https://i.imgur.com/tk0UfYf.png" alt="">
                                Indisponível</li>
                        </ul>
                        <ul class="li2">
                            <li>4</li>
                            <li>1</li>
                            <li>1</li>
                        </ul>
                    </div>
                </div>
                <div class="div6">
                    <div class="tituloL">
                        <h2>Métricas luminosidade</h2>
                        <b>Critico</b>
                        <b class="ba1">Alerta</b>
                        <b class="bi">Ideal</b>
                        <b class="ba1">Alerta</b>
                        <b class="bc1">Critico</b>
                    </div>
                    <div class="card5">
                        <div class="metricas">
                            <div class="bolaRed">Abaixo 15.000 <br>Lux</div>
                            <div class="bolaAma">Abaixo 30.000 <br>Lux</div>
                            <div class="bolaVer">Entre 40.000 50.000 <br>Lux</div>
                            <div class="bolaAma">Acima 60.000 <br>Lux</div>
                            <div class="bolaRed">Acima 85.000 <br>Lux</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Fim do Banner -->
</body>

<footer>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <div class="footer-content">
        <h1> <a href="contato.html">CONTATE-NOS</a></h1>
        <p>
            Avenida Brigadeiro 487 Andar 19, Faria Lima, São Paulo, SP 04538-133 <br>
            Whatsapp:(11) 93238-5592 || Telefone:(11) 4782-2076 || Email:odlacontato@gmail.com
        </p>
        <ul class="sociais">
            <li><a href="#"><i class="fa fa-facebook"></i></a></li>
            <li><a href="https://twitter.com/OdlaOficial"><i class="fa fa-twitter"></i></a></li>
            <li><a href="#"><i class="fa fa-youtube"></i></a></li>
            <li><a href="https://www.linkedin.com/in/odla-vertical-farm-5aa654239/"><i
                        class="fa fa-linkedin-square"></i></a></li>
        </ul>
    </div>
    <div class="footer-bottom">
        <p>copyright &copy;2022 ODLA</p>
    </div>

</footer>

</html>
<script>
    const labels = [];
    const data = {
        labels: labels,
        datasets: [{
            label: 'Luminosidade',
            data: [],
            fill: false,
            borderColor: 'rgb(78 178 101)',
            backgroundColor: 'rgb(78 178 101)',
            tension: 0.2,
            pointRadius: 7
        }]
    };
    const options = {
        scales: {
            x: {
                ticks: {
                    display: false
                }
            },
            y: {
                min: 0,
                max: 100000
            }
        },
        plugins: {
            legend: {
                display: true,
                labels: {
                    color: 'black'
                }
            }
        }
    };
    const config = {
        type: 'line',
        data: data,
        options: options,
    };
    const labels2 = [];
    const data2 = {
        labels: labels2,
        datasets: [{
            label: 'Consumo energia (w)',
            data: [],
            fill: false,
            borderColor: 'rgb(8, 41, 73)',
            backgroundColor: 'rgb(8, 41, 73)',
            tension: 0.2,
            pointRadius: 7
        }]
    };
    const options2 = {
        scales: {
            x: {
                ticks: {
                    display: false
                }
            },
            y: {
                min: 0,
                max: 200
            }
        },
        plugins: {
            legend: {
                display: true,
                labels: {
                    color: 'black'
                }
            }
        }
    };
    const config2 = {
        type: 'line',
        data: data2,
        options: options2,
    };

    const linha = new Chart(
        document.getElementById('linha'),
        config
    );
    const linhaa = new Chart(
        document.getElementById('linhaa'),
        config2
    );

    function addValor1() {
        const value1 = Math.random();
        const value =  value1 * 100000;
        console.log(value1);

        linha.data.datasets[0].data.push(value);
        linha.data.labels.push(value);

        if (value < 15000 || value > 85000) {
            linha.data.datasets[0].backgroundColor = 'rgb(255, 0, 0)';
            linha.data.datasets[0].borderColor = 'rgb(255, 0, 0)';
        } else if (value < 30000 || value > 60000) {
            linha.data.datasets[0].backgroundColor = 'rgb(255, 226, 41)';
            linha.data.datasets[0].borderColor = 'rgb(255, 226, 41)';
        }else if (value > 40000 || value < 50000) {
            linha.data.datasets[0].backgroundColor = 'rgb(78 178 101)';
            linha.data.datasets[0].borderColor = 'rgb(78 178 101)';
        }

        linha.update();

        const value2 = Number(parseInt(value1 *100)) +40;

        linhaa.data.datasets[0].data.push(value2);
        linhaa.data.labels.push(value2);
        linhaa.update();

    }
</script>